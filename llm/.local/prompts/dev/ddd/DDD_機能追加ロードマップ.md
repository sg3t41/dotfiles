# 新機能設計ヒアリングシート

新しい機能を追加するために、DDDの各層に必要な情報を整理していきましょう。
以下の質問に答えることで、設計の輪郭が明確になります。

---

## STEP 1: `domain` 層の設計 - 「ビジネスの核」を定義する

> このステップでは、新しい機能が扱う「モノ」や「ルール」そのものを定義します。技術的なことは一旦忘れ、ビジネスの世界に集中してください。

### Q1-1. この機能の中心となる「モノ」（エンティティ）は何ですか？

- **例:** 「タスク管理機能」なら `タスク (Task)`、「ユーザー登録機能」なら `ユーザー (User)`
- **あなたの回答:** `ここに回答を記入`

### Q1-2. その「モノ」は、どのような情報（属性）を持っていますか？

- **例 (Taskの場合):**
  - `ID (id)`: タスクを一意に識別するための番号
  - `タスク名 (name)`: タスクの内容を表す文字列
  - `完了状態 (status)`: 未完了、完了済みなどの状態
  - `作成日時 (createdAt)`: いつ作られたかの日時
- **あなたの回答:**
  - `属性名 (英語名): 説明`
  - `属性名 (英語名): 説明`
  - `...`

### Q1-3. その「モノ」に関する、絶対に守らなければならない「ビジネスルール」はありますか？

- **例 (Taskの場合):**
  - タスク名は空にできない。
  - 一度完了したタスクは、未完了に戻すことはできない。
- **あなたの回答:**
  - `ルール1: ...`
  - `ルール2: ...`

### Q1-4. この「モノ」を、どのように保存・取得したいですか？（リポジトリのインターフェース）

> ※ ここでは「どうやって」ではなく、「何をしたいか」だけを考えます。

- **例 (Taskの場合):**
  - IDを指定してタスクを1件取得したい。
  - すべてのタスクを一覧で取得したい。
  - 新しいタスクを保存したい。
- **あなたの回答:**
  - `やりたいこと1: ...`
  - `やりたいこと2: ...`

---

## STEP 2: `usecase` 層の設計 - 「ユーザーのやりたいこと」を定義する

> このステップでは、STEP 1で定義した「モノ」を使って、ユーザーが達成したい具体的な操作（ユースケース）を定義します。

### Q2-1. この機能で、ユーザー（または外部システム）は何をしたいですか？

- **例 (タスク管理機能の場合):**
  - 新しいタスクを作成したい。
  - タスクの一覧を見たい。
  - 特定のタスクを完了させたい。
- **あなたの回答:**
  - `ユースケース1: ...`
  - `ユースケース2: ...`

### Q2-2. 各ユースケースの「入力」と「出力」は何ですか？

> ※ DTO (Data Transfer Object) の設計にあたります。

- **例 (「新しいタスクを作成したい」ユースケースの場合):**
  - **入力:** `タスク名`
  - **出力:** `作成されたタスクの情報（ID, タスク名, 状態など）`
- **あなたの回答:**
  - **ユースケース1:**
    - **入力:** `...`
    - **出力:** `...`
  - **ユースケース2:**
    - **入力:** `...`
    - **出力:** `...`

---

## STEP 3: `interface` 層 / `infrastructure` 層の設計 - 「どうやって」を実現するか

> 最後のステップで、これまでの設計を具体的な技術に接続します。

### Q3-1. ユーザーは「どうやって」ユースケースを呼び出しますか？ (`interface` 層)

- **例:**
  - `POST /tasks` というHTTPリクエストで、新しいタスクを作成する。
  - `GET /tasks` というHTTPリクエストで、タスク一覧を取得する。
- **あなたの回答:**
  - `ユースケース1の呼び出し方法: ...`
  - `ユースケース2の呼び出し方法: ...`

### Q3-2. データは「どうやって」保存しますか？ (`infrastructure` 層)

- **例:**
  - PostgreSQLデータベースの `tasks` テーブルに保存する。
  - JPA (Hibernate) を使って実装する。
- **あなたの回答:** `ここに回答を記入`

---
